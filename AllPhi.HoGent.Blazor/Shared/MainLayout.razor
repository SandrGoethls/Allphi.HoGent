@inherits LayoutComponentBase

<PageTitle>AllPhi</PageTitle>

@*<MudThemeProvider />
    <MudDialogProvider />
    <MudSnackbarProvider />*@

<style>
    body, html {
        height: 100%;
        margin: 0;
    }

    .main-content {
        display: flex;
        flex-direction: column;
        min-height: 100vh;
    }

    .body-content {
        padding-left: 50px;
    }

    .menu-content {
        display: block;
    }

    .overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 999;
    }

    @@media (min-width:300px) and (max-width:1344px) {
        .main-padding {
            padding: 0px !important;
        }

        .body-content {
            margin-top: 39px;
            padding-left: 20px;
            padding-right: 20px;
            width: 100%;
        }

        .menu-content {
            padding-left: 15px;
            padding-right: 15px;
            width: 100%;
        }

        .sub-container {
            display: flex;
            flex-wrap: wrap;
            flex-direction: column;
        }

        .menu-content {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 1000;
        }

        .menu-toggle {
            display: block;
            position: fixed;
            top: 20px;
            right: 25px;
            z-index: 200000;
            font-size: 24px;
        }
    }

    @@media (min-width:1345px) and (max-width:3000px) {
        .main-padding {
            padding: 55px !important;
        }

        .menu-content {
            padding-left: 10px;
            padding-right: 10px;
            width: 16.666667%;
            display: block;
        }

        .body-content {
            width: 83.3333%;
        }

        .sub-container {
            display: flex;
            flex-wrap: wrap;
            flex-direction: row;
        }

        .menu-toggle {
            display: none;
            cursor: pointer;
            padding: 10px;
        }
    }

    @@media (min-width: 992px) {
        #page-container.sidebar-o {
            padding-left: 0;
        }
    }
</style>


<div id="page-container" class="sidebar-o sidebar-dark enable-page-overlay side-scroll page-header-fixed main-content-narrow side-trans-enabled">
    <main id="main-container">
        <div class="main-content">
            <Header />
            <div class="main-padding">
                <a class="menu-toggle" @onclick="ToggleNavMenu"><span class="fa fa-bars"></span></a>
                <div class="row py-3 sub-container" @onclick="CloseNavMenu">
                    <div class="menu-content" style="@(_isNavMenuVisible ? "display:block;" : "")">
                        <NavMenu />
                    </div>
                    <div class="body-content">
                        @Body
                    </div>
                </div>
            </div>
            <Footer></Footer>
        </div>
    </main>
</div>

@code {
    private bool _isNavMenuVisible = false;

    private void ToggleNavMenu()
    {
        _isNavMenuVisible = !_isNavMenuVisible;
    }

    private void CloseNavMenu()
    {
        _isNavMenuVisible = false;
    }
}
